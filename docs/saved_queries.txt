SAVED QUERIES

-SELECT ALL TABLES FROM A SPECIFC SCHEMA-

create or replace function "CarManager-DB".get_tables()
returns table
	(
		table_name text
	)
as $$
begin
    return query (
        select table_name from information_schema.tables where table_schema = 'CarManager-DB'
    );
end;
$$ language plpgsql;


-SELECT SPECIFIC TABLE-

-First record

create or replace function "CarManager-DB".get_first_table()
returns text as $$
begin
    select * from get_tables() LIMIT 1;
end;
$$ language plpgsql;

-Any record

create or replace function "CarManager-DB".get_specific_table(index int)
returns text as $$
begin
    select * from get_tables() LIMIT 1 OFFSET index - 1;
end;
$$ language plpgsql;


-SELECT ALL COLUMNS FROM A SPECIFIC TABLE-

create or replace function "CarManager-DB".get_columns(t_name text)
returns table
	(
		column_name text
	)
as $$
begin
	return query (
        select column_name from information_schema.columns where table_name = t_name
    );
end;
$$ language plpgsql;
